<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello World!</title>
    <link rel="stylesheet" href="index.css">
	<!-- <link rel="stylesheet" href="js/Keyboard-master/css/keyboard.css">
	<link rel="stylesheet" href="js/Keyboard-master/css/keyboard-basic.css"> -->
	<link rel="stylesheet" href="styles/bootstrap.min.css">
	<script src="js/jquery-3.5.1.js"></script>
	<script src="js/jquery-3.5.1.min.js"></script>
	<script src="js/bootstrap.min.js"></script>

	<script src = "https://code.jquery.com/ui/1.10.4/jquery-ui.js"></script>

	<link rel="stylesheet" href="styles/onScreenKeyboard.css">
	<script src="js/jquery.onScreenKeyboard.js"></script>

	<!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/css/index.css"> -->
    
	<style type="text/css">
        body {
		    min-width: -webkit-fill-available;
		    background-image: url('images/batik3.jpg');
        }

		.main_menu {
			width: 40%; 
			margin-top: 20px;
		}

        .ctn {
            position: fixed;
            min-width: -webkit-fill-available;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
            display: table-cell;
            vertical-align: middle 
        }

        .float_left {
            float: left;
        }

        .float_right {
            float: right;
        }

        .hidethis {
            visibility: hidden;
        }

        .table_user {
            margin: 10px 10px;
        }

        .last_btn {
            margin-top: 10px;
        }

        .error_pin {
            color: red;
        }

        .error_pin_match {
            color: red;
        }

        #osk-container {
            position: absolute !important;
            z-index: 9999 !important;
        }

	</style>
  </head>
  <body>
    <div class="row" style="margin-top: 100px;">
        <div class="ctn">
    		<img src="images/yanas.png" alt="Yanas">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_left" name="id_login" id="id_login" value="User" class="form-control" onclick="userClick()">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_right" name="id_login" id="id_login" value="Parameter" class="form-control" onclick="parameterClick()">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_left" name="id_login" id="id_login" value="Opening Saldo" class="form-control" onclick="openingSaldoClick()">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_right" name="id_login" id="id_login" value="Ubah Pin" class="form-control" onclick="changePinClick()">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_left" name="id_login" id="id_login" value="History" class="form-control" onclick="historyClick()">
        </div>
        <div class="col-md-6">
            <input type="button" class="btn btn-primary main_menu float_right" name="id_login" id="id_login" value="Selesai" class="form-control" onclick="doneCLick()">
        </div>
        
    	<div class="col-md-6">
			<!-- <div id="admin_main_menu">
	    		<div style="float: left; text-align: center;">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="User" class="form-control" onclick="userClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="Parameter" class="form-control" onclick="parameterClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="Transaksi" class="form-control" onclick="TrxClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="Opening Saldo" class="form-control" onclick="saldoClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="Ubah Pin" class="form-control" onclick="changePinClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="History" class="form-control" onclick="historyClick()">
		    		<input type="button" class="btn btn-primary main_menu" name="id_login" id="id_login" value="Selesai" class="form-control" onclick="doneCLick()">
	    		</div>
	    	</div> -->
	    	<div id="trx_menu" class="row">
				<div class="col-md-2">
					<input type="button" class="btn btn-info" name="new" value="New" style="width: 100%;" onclick="doNewTrx()">
				</div>
				<div class="col-md-8">
					<input type="button" class="btn btn-info" name="done" value="Selesai" style="float: right;" onclick="doneAddUser()">
				</div>
				<div class="col-md-10">
					<input type="text" class="form-control" id="find_input_trx" name="find_input_trx" placeholder="Transaction ID or Name">
				</div>
				<div class="col-md-2">
					<input type="button" class="btn btn-info" name="find" value="Find" style="width: 100%;" onclick="doFindTrx()">
				</div>
	    		<table class="table table-striped">
	    			<thead>
	    				<tr>
	    					<th>Transaction ID</th>
	    					<th>Transaction</th>
	    					<th>Edit</th>
	    					<th>Delete</th>
	    				</tr>
	    			</thead>
	    			<tbody id="trx_list_table">
	    				<tr>
	    					<td>-</td>
	    					<td>-</td>
	    					<td>-</td>
	    					<td>-</td>
	    				</tr>
	    			</tbody>
	    		</table>
	    	</div>
    	</div>
	</div>

    <!-- Modal User -->
    <div class="modal fade" id="userListModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">User List</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body row">
                    <div class="col-md-2">
                        <input type="button" class="btn btn-info" name="new" value="New" style="width: 100%;" onclick="doNewUser()">
                    </div>
                    <div class="col-md-8">
                        <input type="text" class="form-control" id="find_input" name="find_input" placeholder="User ID or Name">
                    </div>
                    <div class="col-md-2">
                        <input type="button" class="btn btn-info" name="find" value="Find" style="width: 100%;" onclick="doFindUser()">
                    </div>
                    <table class="table table-striped table_user">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Name</th>
                                <th>Pin</th>
                                <th>Role</th>
                                <th>Edit</th>
                                <th>Delete</th>
                            </tr>
                        </thead>
                        <tbody id="user_list_table">
                            <tr>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal New User -->
    <div class="modal fade" id="userModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add new user..</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <label for="kartu_id" class="">ID Kartu (Tempel KTP / Masukan Nomor KTP)</label>
                        <input name="kartu_id" id="kartu_id" placeholder="3201231232334343" type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_id" class="">User ID</label>
                        <input name="user_id" id="user_id" placeholder="daffa02" type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="nama" class="">Name</label>
                        <input name="nama" id="nama" placeholder="Daffa" type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_pin" class="">Pin</label>
                        <input name="user_pin" id="user_pin" placeholder="6 Digit Pin" type="password" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_repin" class="">Retype Pin</label>
                        <input name="user_repin" id="user_repin" placeholder="6 Digit Pin" type="password" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_max_beras_h" class="">Max Beras / Hari</label>
                        <input name="user_max_beras_h" id="user_max_beras_h" placeholder="Max Beras" type="number" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_max_beras_periode" class="">Max Beras / Periode</label>
                        <input name="user_max_beras_periode" id="user_max_beras_periode" placeholder="Max Beras" type="number" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="user_type" class="">Type</label>
                        <select class="form-control" id="user_type">
                            <option value="Admin">Admin</option>
                            <option value="User">User</option>
                        </select>
                    </div>
                    <div class="col-md-3">
                        <input name="save_user" id="save_user" type="button" class="btn btn-primary last_btn" value="Save" onclick="doSaveUser()">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal TRX -->
    <!-- <div class="modal fade" id="trxModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Add new Transaction..</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-6">
                        <label for="trx_id" class="">Transaction ID</label>
                        <input name="trx_id" id="trx_id" placeholder="12" type="text" class="form-control">
                    </div>
                    <div class="col-md-12"></div>
                    <div class="col-md-6">
                        <label for="trx_name" class="">Transaction Name</label>
                        <input name="trx_name" id="trx_name" placeholder="2 Liter" type="text" class="form-control">
                    </div>
                    <div class="col-md-12"></div>
                    <div class="col-md-3">
                        <input name="save_user" id="save_user" type="button" class="btn btn-primary" value="Save" onclick="doSaveTrx()">
                    </div>
                    <div class="col-md-12"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div> -->

    <!-- Modal Change PIN -->
    <div class="modal fade" id="pinModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Change PIN</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <label for="pin_user_id" class="">User ID</label>
                        <select class="form-control" id="user_list_pin_select" disabled></select>
                    </div>
                    <div class="col-md-12">
                        <label for="old_pin" class="">Old Pin</label>
                        <input name="old_pin" id="old_pin" type="password" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="new_pin" class="">New Pin</label>
                        <input name="new_pin" id="new_pin" type="password" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="retype_pin" class="">Re-type Pin</label>
                        <input name="retype_pin" id="retype_pin" type="password" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <h6 id="error_pin" class="error_pin">Pin salah</h6>
                    </div>
                    <div class="col-md-12">
                        <h6 id="error_pin_match" class="error_pin_match">Pin tidak sama</h6>
                    </div>
                    <div class="col-md-3">
                        <input name="save_user" id="save_user" type="button" 
                        class="btn btn-primary last_btn" value="Save" onclick="doSavePin()">
                    </div>
                    <div class="col-md-12"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Parameter -->
    <div class="modal fade" id="parameterModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Parameter</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <label for="ip_atm" class="">IP ATM</label>
                        <input name="ip_atm" id="ip_atm" placeholder="12" type="text" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="periode_beras" class="">Periode pengambilan beras (H)</label>
                        <input name="periode_beras" id="periode_beras" type="number" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label class="checkbox-inline">
                            <input type="checkbox" id="auto_reload" value=""> Auto update (Isi ulang)
                        </label>
                    </div>
                    <div class="col-md-12">
                        <label for="auto_reload_day" class="">Tanggal auto update </label>
                        <input name="auto_reload_day" id="auto_reload_day" type="number" class="form-control">
                    </div>
                    <div class="col-md-12">
                        <label for="auto_reload_volume" class="">Jumlah auto update (L) </label>
                        <input name="auto_reload_volume" id="auto_reload_volume" type="number" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <input name="save_user" id="save_user" type="button" class="btn btn-primary last_btn" value="Save" onclick="doSaveParameter()">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Opening Saldo -->
    <div class="modal fade" id="openingModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Opening Saldo</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="col-md-12">
                        <label for="opening_user_id" class="">User ID</label>
                        <select class="form-control" id="user_list_select"></select>
                    </div>
                    <div class="col-md-12"></div>
                    <div class="col-md-12">
                        <label for="opening_saldo" class="">Saldo (Liter)</label>
                        <input name="opening_saldo" id="opening_saldo" min=0 type="number" class="form-control">
                    </div>
                    <div class="col-md-12"></div>
                    <div class="col-md-3">
                        <input name="save_user" id="save_user" type="button" class="btn btn-primary last_btn" value="Save" onclick="doSaveOpeningSaldo()">
                    </div>
                    <div class="col-md-12"></div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal History -->
    <div class="modal fade" id="historyModal" role="dialog">
        <div class="modal-dialog modal-lg">
            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Riwayat Transaksi</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>
                <div class="modal-body row">
                    <div class="col-md-4">
                        <label for="history_user_id" class="">User ID</label>
                        <select class="form-control" id="user_list_history_select"></select>
                    </div>
                    <div class="col-md-3">
                        <label for="history_from" class="">Dari</label>
                        <input name="history_from" id="history_from" type="date" class="form-control">
                    </div>
                    <div class="col-md-3">
                        <label for="history_to" class="">Sampai</label>
                        <input name="history_to" id="history_to" type="date" class="form-control">
                    </div>
                    <div class="col-md-2">
                        <label for="run" class="hidethis">run</label>
                        <input class="btn btn-default" type="button" name="run" value="Lihat" onclick="showHistory()">
                    </div>
                    <div class="col-md-12">
                        <table class="table table-striped">
                            <thead>
                                <tr>
                                    <th>User ID</th>
                                    <th>Tanggal</th>
                                    <th>Aktifitas</th>
                                </tr>
                            </thead>
                            <tbody id="history_list_tbody">
                                <tr>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                                <tr>
                                    <td>-</td>
                                    <td>-</td>
                                    <td>-</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
	<!-- <div class="simple-keyboard"></div> -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/simple-keyboard@latest/build/index.min.js"></script> -->
</body>
  <script src="js/admin.js"></script>
  <script type="text/javascript">
    $("#osk-container").draggable()

    $('#opening_saldo').onScreenKeyboard({
        'draggable': true,
        'leftPosition': '10%',
        'topPosition': '40%'
    });
  </script>
</html>
